<!DOCTYPE html>
<html>
  <head>
    <style>
      #map {
        height: 500px;
        width: 100%;
      }
    </style>
  </head>
  <body>
    <h3>Google Maps Demo</h3>
    <div id="map"></div>
    <script>
      function initMap() {
        var uluru = {
          lat: 44.599,
          lng: -76.452
        };
        var map = new google.maps.Map(document.getElementById('map'),{
          zoom: 20,
          center: uluru,
          mapTypeId: 'hybrid'
        });
        var marker = new google.maps.Marker({
          position: uluru,
          icon: {
            path: google.maps.SymbolPath.FORWARD_CLOSED_ARROW,
            scale: 3,
            strokeColor: 'blue'
          },
          draggable: true,
          map: map
        });
        var infowindow = new google.maps.InfoWindow({
          content: 'Position: ',
          position: uluru
        })
        map.addListener('click', function(e) {
          updateInfo(e.latLng, map);
        });
        function updateInfo(LatLng, map) {
					var xhttp = new XMLHttpRequest ();
					//xhttp.open("POST", "data", true);
					//xhttp.send("position=LatLng.toUrlValue(4)");
					xhttp.open("GET", "data?position=" + LatLng.toUrlValue(4), true);
					xhttp.send();
          infowindow.setContent('Position: ' + LatLng.toUrlValue(4)),
          infowindow.setPosition(LatLng)
          infowindow.open(map);
        }
        ;function placeMarkerAndPanTo(latLng, map) {
          var marker = new google.maps.Marker({
            position: latLng,
            map: map
          });
          map.panTo(latLng);
        }
        ;
      }
    </script>
    <script async defer src="https://maps.googleapis.com/maps/api/js?key=AIzaSyAvuIzjlaOEiZIOQnjSnWr7hh1JkUE6q60&callback=initMap"></script>
  </body>
</html>
